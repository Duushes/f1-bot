# F1 Telegram Bot — PRD (MVP)

## 1. Overview / Problem

Фанаты F1 часто сталкиваются с тремя проблемами:
- Нет времени глубоко разбираться в контексте гонки до старта
- Во время гонки не хватает интерактива и вовлечённости
- После гонки сложно быстро понять, что произошло и почему это важно

Цель продукта — дать фанату **быстрое понимание + игру + краткий итог** в одном Telegram-боте, без перегруза и лишних действий.

MVP-фокус: скорость запуска, простая архитектура, минимальные зависимости.

---

## 2. Key User Flows

### Flow A: F1 in 60 Seconds (Pre-Race)
1. За 2 часа до старта гонки бот автоматически формирует превью
2. Админ подтверждает публикацию (Approve / Edit / Cancel)
3. Пользователь получает сообщение с 5–7 буллетами:
   - Контекст гонки (трасса, факты)
   - Главная интрига
   - 2–3 пилота, за кем следить
   - Погода / шины (очень кратко)
4. CTA-кнопка: **«Открыть Bingo Cards»**

---

### Flow B: Bingo Cards (During Race)
1. Пользователь открывает бинго 4×4 (16 клеток)
2. Клетки содержат проверяемые события:
   - Safety Car
   - DNF
   - Fastest Lap
   - Pit under SC
   - Team radio controversy
   - Мемные события (контекстно)
3. Пользователь вручную отмечает события
4. Админ может:
   - Подтвердить / отклонить события
   - Массово проставить статусы
5. Статусы клеток:
   - ❌ не сбылось
   - ✅ сбылось
6. Финальный экран:
   - «Закрашено X из 16 клеток»

---

### Flow C: Race Result in 60 Seconds (Post-Race)
1. После гонки бот формирует краткий итог
2. Админ подтверждает публикацию
3. Пользователь получает 5–7 буллетов:
   - Победитель
   - Ключевой момент гонки
   - Что сломало стратегию
   - Влияние на чемпионат
   - Главный хайлайт (текст / эмодзи)
4. CTA-кнопка: **«Узнать про следующую гонку»**
   → запускает Flow A для следующего этапа

---

## 3. Functional Requirements

### Core
- Telegram Bot API
- Поддержка RU / EN (выбор при первом запуске, хранение в профиле)
- Хранение данных:
  - Пользователь (id, язык)
  - Гонка (id, дата, статус)
  - Bingo-сессия (user_id, race_id, cells)
- Автогенерация текстов через LLM, которые будут комфортны и нативны для Gen Z
- Админ-панель через Telegram (inline-кнопки)

### Контент и данные
- Источники:
  - Календарь текущего сезона F1
  - Официальные новости и trusted F1 media
- Шаблоны промптов:
  - Pre-race
  - Bingo generation
  - Post-race recap

### Техническое
- Стек:
  - Python
  - aiogram / pyTelegramBotAPI
  - OpenAI API
  - GitHub + Railway
- Cron-задачи:
  - Pre-race генерация (T-2h)
  - Post-race генерация

---

## 4. Non-Goals

- Прямая трансляция гонок
- Реалтайм телеметрия
- Сложная аналитика или статистика
- Личные прогнозы пользователей
- Социальная лента или чаты между пользователями

---

## 5. Milestones & Release Plan

### MVP (1 вечер)
- Базовый бот
- RU / EN
- F1 in 60 Seconds (manual approve)
- Bingo Cards (ручная отметка + админ подтверждение)
- Race Result in 60 Seconds
- Минимальное хранилище данных

### v1.1 (после MVP)
- Шаринг итоговой Bingo-карточки (image / emoji grid)
- Монетизация через Telegram:
  - Premium Bingo
  - Sponsor cells / branded events
  - Donates / Subscriptions
